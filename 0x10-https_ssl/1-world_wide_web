#!/usr/bin/env bash
# Prints subdomains info

subdomain_inf () {
    RECORD_TYPE=$(dig "$2"."$1" | awk 'FNR == 14 {print}' | awk '{print $4}')
    DESTINATION=$(dig "$2"."$1"| awk 'FNR == 14 {print}' | awk '{print $NF}')
    echo "The subdomain $2 is a $RECORD_TYPET record and points to $DESTINATION"
}

if [ $# -eq 1 ]
then
    subdomain_inf $1 "www"
    subdomain_inf $1 "lb-01"
    subdomain_inf $1 "web-01"
    subdomain_inf $1 "web-02"
elif [ $# -gt 1 ]
then
    subdomain_inf $1 $2
fi
